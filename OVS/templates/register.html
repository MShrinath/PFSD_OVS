<!-- register.html -->
{% extends 'index.html' %}

{% block body %}

<div class="register-container">
	<h2>Register</h2>

	{% if user.is_authenticated %}
	<div class="error-message"><h3>You are already logged in. Please log out to access this page.</h3>
        <form method="post" action="{% url 'logoutPage' %}">
            {% csrf_token %}
            <input type="submit" value="Log Out">
        </form>
    </div>
	{% else %}
		<div class="register">
		{% if error_message %}
		<script>alert("{{ error_message }}");</script>
		{% endif %}
		<form method="post" action="{% url 'registerCheck' %}">
			{% csrf_token %}

			<label for="first_name">First Name:</label>
			<input type="text" name="first_name" required />
			<br />

			<label for="last_name">Last Name:</label>
			<input type="text" name="last_name" required />
			<br />

			<label for="date_of_birth">Date of Birth:</label>
			<input type="date" name="date_of_birth" />
			<br />

			<label for="aadhar_number">Aadhar Number:</label>
			<input type="text" name="aadhar_number" />
			<br />

			<label for="voter_id">Voter ID:</label>
			<input type="text" name="voter_id" />
			<br />

			<label for="gender">Gender:</label>
			<select name="gender">
				<option value="" disabled selected> Please select oneâ€¦</option>
				<option value="M">Male</option>
				<option value="F">Female</option>
				<option value="O">Other</option>
			</select>
			<br />

			<label for="email">Email:</label>
			<input type="email" name="email" required />
			<br />

			<label for="username">Username:</label>
			<input type="text" name="username" required />
			<br />

			<label for="password">Password:</label>
			<input type="password" name="password" required />
			<br />

			<input type="submit" value="Register" />
		</form>
		</div>
	{% endif %}
</div>
{% endblock %}
